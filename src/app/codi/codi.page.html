<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button color="light"></ion-menu-button>
    </ion-buttons>
    <ion-title>Codi</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<h1>{{ 'codi.title' | translate }}</h1>

<form [formGroup]="codiForm" (ngSubmit)="createQr()">
  <ion-item>
    <ion-icon name="cash-outline" slot="start"></ion-icon>
    <ion-input type="number" formControlName="payment" placeholder="{{ 'codi.payment' | translate }}" clearInput></ion-input>
  </ion-item>
  <ion-item>
    <ion-icon name="bulb-outline" slot="start"></ion-icon>
    <ion-input type="text" formControlName="concept" placeholder="{{ 'codi.concept' | translate }}" clearInput></ion-input>
  </ion-item>
  <ion-item>
    <ion-icon name="pricetag-outline" slot="start"></ion-icon>
    <ion-input type="text" formControlName="reference" placeholder="{{ 'codi.reference' | translate }}" clearInput></ion-input>
  </ion-item>
  <ion-button type="submit" [disabled]="!codiForm.valid" expand="block" color="primary">{{ 'codi.createqr' | translate }}</ion-button>    
</form>



<ngx-qrcode
    qrc-element-type="canvas"
    [qrc-value]="qrData">
</ngx-qrcode>

<ion-button (click)="scanCode()" expand="block" fill="clear">{{ 'codi.scanner' | translate }}</ion-button>
<ion-button (click)="downloadQr()" expand="block" fill="clear">{{ 'codi.download' | translate }}</ion-button>

</ion-content>

